<!doctype html>
<html class="no-js">
<head>
  <meta charset="utf-8">
  
  <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  
  <title>HTML Video Automator - <%= "#{name}" %></title>
  <meta name="description" content="Vidéo encodée et publiée à l'aide de HTML Video Automator">
  <meta name="author" content="Loïc Cattani, loic.cattani@gmail.com">
  
  <!--  Mobile viewport optimized: j.mp/bplateviewport -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Begin VideoJS Head -->
  <script src="http://podcast.unil.ch/videojs/current/video.js"></script>
  <link rel="stylesheet" href="http://podcast.unil.ch/videojs/current/video-js.css" media="screen" title="Video JS">
  <script type="text/javascript" charset="utf-8">
    // Add VideoJS to all video tags on the page when the DOM is ready
    VideoJS.setupAllWhenReady();
  </script>
  <!-- End VideoJS Head-->
  
  <!-- CSS : implied media="all" -->
  <link rel="stylesheet" href="css/styles.css">
  
  <!-- Google Font API -->
  <link href='http://fonts.googleapis.com/css?family=Droid+Sans|Lobster' rel='stylesheet' type='text/css'>
  
  <!-- Modernizr: enables HTML5 elements & feature detects -->
  <script src="js/libs/modernizr-1.6.min.js"></script>
  
</head>
<body lang="fr">
  
  <header>
    <h1>HTML Video Automator</h1>
  </header>
  
  <div id="main" role="main">
        
    <!-- Begin VideoJS -->
    <div class="video-js-box">
      <!-- Using the Video for Everybody Embed Code http://camendesign.com/code/video_for_everybody -->
      <video class="video-js" width="<%= size[:width] %>" height="<%= size[:height] %>" controls preload poster="<%= "#{pub_url}/#{name}" %>.jpg">
        <source src="<%= "#{pub_url}/#{name}" %>.mp4" type='video/mp4; codecs="avc1.42E01E, mp4a.40.2"' />
        <source src="<%= "#{pub_url}/#{name}" %>.webm" type='video/webm; codecs="vp8, vorbis"' />
        <!-- Flash Fallback. Use any flash video player here. Make sure to keep the vjs-flash-fallback class. -->
        <object id="flash_fallback_1" class="vjs-flash-fallback" width="<%= size[:width] %>" height="<%= size[:height] %>" type="application/x-shockwave-flash" 
          data="http://releases.flowplayer.org/swf/flowplayer-3.2.1.swf">
          <param name="movie" value="http://releases.flowplayer.org/swf/flowplayer-3.2.1.swf" />
          <param name="allowfullscreen" value="true" />
          <param name="flashvars" 
            value='config={"playlist":["<%= "#{pub_url}/#{name}" %>.jpg", {"url": "<%= "#{pub_url}/#{name}" %>.mp4","autoPlay":false,"autoBuffering":true}]}' />
          <!-- Image Fallback. Typically the same as the poster image. -->
          <img src="<%= "#{pub_url}/#{name}" %>.jpg" width="<%= size[:width] %>" height="<%= size[:height] %>" alt="Poster Image" 
            title="No video playback capabilities." />
        </object>
      </video>
    </div>
    <!-- Download links provided for devices that can't play video in the browser. -->
    <p>
      <strong>Téléchargez cette vidéo:</strong>
      <a href="<%= "#{pub_url}/#{name}" %>.mp4">MP4</a>,
      <a href="<%= "#{pub_url}/#{name}" %>.webm">WebM</a>
    </p>
    <!-- End VideoJS -->
    
  </div>
  
  <footer>
    <a href="http://www.w3.org/html/logo/">
      <img src="images/html5-badge-css3-multimedia-semantics.png" alt="HTML5 Powered with CSS3 / Styling, Multimedia, and Semantics" title="HTML5 Powered with CSS3 / Styling, Multimedia, and Semantics">
    </a>
    <a href="http://videojs.com">
      <img src="images/video-js-logo.png" alt="HTML5 Video Player by VideoJS" title="HTML5 Video Player by VideoJS">
    </a>
    <a href="http://unil.ch">
      <img src="images/logo-unil.png" alt="University of Lausanne" title="Made in Unicom, University of Lausanne">
    </a>
  </footer>
  
  <!-- mathiasbynens.be/notes/async-analytics-snippet Change UA-XXXXX-X to be your site's ID -->
  <script>
    var _gaq=[['_setAccount','UA-19466870-3'],['_trackPageview']];
    (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];g.async=1;
    g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
    s.parentNode.insertBefore(g,s)}(document,'script'));
  </script>
  
</body>
</html>
